<html>
<head>
</head>
<body>
  <div id="container"></div>

  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript">
    $(function () {
      var ws;

      if (window.WebSocket === undefined) {
        $("#container").append("Your browser does not support WebSockets");
        return;
      } else {
        ws = joinMatchmakingQueue();
      }

      function joinMatchmakingQueue() {
        var socket = new WebSocket("ws://127.0.0.1:8001/ws");

        container = $("#container");

        socket.onopen = function() {
          console.log("first socket opened");
        };

        socket.onmessage = function (e) {
          var data = JSON.parse(e.data);
          if (data['Url']) {
            joinGameServer(data['Url']);
          }

          if (data['Status']) {
            updateStatus(data['Status']);
          }
        };

        socket.onclose = function () {};

        return socket;
      }

      function updateStatus(s) {
        
      }

      function joinGameServer(gs) {
        var socket = new WebSocket("ws://" + gs.Url + "/ws");

        socket.onopen = function() {
          socket.send(JSON.stringify(
            {
              'Name': 
            }
          ));
        };

        socket.onmessage = function(e) {
          console.log(e.data);
        };

        socket.onclose = function() {
          console.log("second socketclosed");
        };
      
      }

//      $("#sendBtn").click(function (e) {
//        e.preventDefault();
//        ws.send(JSON.stringify({ Num: parseInt($("#numberfield").val()) }));
//      });
    });
  </script>
</body>
</html>

/**
 * TODO:
 *  Break this file up into smaller components
 *  Minify at some point?
 *  The frontend will send a JSON array of Square objects as well as stats
 *  The square objects will simply have a color
 *  Stats can be:
 *      Leaderboard
 *      Current claimed / unclaimed money
 *      Your current worth / length
 *      These will be rendered as they appear
 */
